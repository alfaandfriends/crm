import{p as M,j as $,c as w,w as l,o as u,b as t,f,F as V,k as C,g as B,a as o,d as n,t as g,u as d,x as A}from"./app-47n-71IK.js";import{_ as D}from"./Authenticated-DANVEH1i.js";import{_ as h}from"./Card-BUtd2H2M.js";import{_ as S,a as N,b as k,c as y,d as F,e as _}from"./TableRow-CoiFIc9M.js";import{_ as E,f as j,a as c}from"./DialogModal-C6JxW-J8.js";import"./ApplicationLogo-2qnE3BcG.js";const I={key:0,class:"bg-red-50 border border-red-200 text-sm text-red-800 rounded-lg p-4 mb-4",role:"alert"},O={class:"flex"},R={class:"ms-4"},z={class:"mt-2 text-sm text-red-700"},Q={class:"list-disc space-y-1 ps-5"},T={class:"grid grid-cols-1 2xl:grid-cols-4 gap-4"},q={class:"font-medium"},J={class:"font-normal"},L={class:"grid grid-cols-1 2xl:grid-cols-4 gap-4"},H={class:"grid grid-cols-1 2xl:grid-cols-4 gap-4"},G={class:"grid grid-cols-1 2xl:grid-cols-4 gap-4"},K={class:"flex items-center justify-between"},W={class:"grid grid-cols-1"},X={class:""},Y={class:"flex gap-1 flex-wrap"},Z={class:"font-normal"},ee={class:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-4 gap-4"},se={key:0,class:"mb-4"},oe={class:"mt-1 max-w-sm"},le={key:1},te={class:"mb-2 flex justify-between items-center shadow-border shadow rounded-lg shadow-gray-300 px-6 py-3"},re={class:"flex items-center"},ne={class:"text-sm font-medium text-gray-800 dark:text-white"},de={class:"items-center"},ie={key:2,class:"mb-4"},ae={class:"mt-1 max-w-sm"},ue={key:3},me={class:"mb-2 flex justify-between items-center shadow-border shadow rounded-lg shadow-gray-300 px-6 py-3"},pe={class:"flex items-center"},fe={class:"text-sm font-medium text-gray-800 dark:text-white"},ge={class:"items-center"},_e={class:"flex justify-end space-x-2"},ve={class:"grid grid-cols-1 gap-4 py-1"},ye={class:"mt-1 grid grid-cols-1 sm:grid-cols-2 w-full"},be={class:"inline-flex items-center gap-x-2.5 py-3 px-4 text-sm font-medium bg-white border text-gray-800 -mt-px sm:mt-0 flex-grow w-full"},ke={class:"relative flex items-start w-full"},we={class:"flex items-center space-x-2"},Ve={class:"grid grid-cols-1 gap-4 py-1"},Ce={class:"mt-1 grid grid-cols-1 sm:grid-cols-2 w-full"},he={class:"inline-flex items-center gap-x-2.5 py-3 px-4 text-sm font-medium bg-white border text-gray-800 -mt-px sm:mt-0 flex-grow w-full"},Pe={class:"relative flex items-start w-full"},$e={class:"flex items-center space-x-2"},xe={data(){return{show_add_progress:!1,show_edit_progress:!1,edit_progress_index:"",selected_program:"",searching_username_email:!1,user_list:{value:[],options:[]},form:{assign_to:"",date_start:"",lead_source:"",school_name:"",school_type:"",branch_number:"",address:"",principal_name:"",principal_phone_number:"",pic_name:"",pic_position:"",pic_phone_number:"",pic_email:"",progress_status:[],quotation:"",contract:""},progress_form:{case_status:"",case_status_name:"",date:"",remark:"",signed_up_programs:[]},progress_form_edit:""}},methods:{openAddProgress(){this.show_add_progress=!0},editAddProgress(a){this.progress_form_edit="",this.progress_form_edit=JSON.parse(JSON.stringify(this.form.progress_status[a])),this.edit_progress_index=a,this.show_edit_progress=!0},isProgramChecked(a){return this.progress_form.signed_up_programs.some(s=>s.id===a)},triggerProgram(a){if(!this.progress_form.signed_up_programs.some(e=>e.id===a))this.progress_form.signed_up_programs.push({id:a,name:this.$page.props.programs.find(e=>e.id===a).name,student_numbers:""});else{const e=this.progress_form.signed_up_programs.findIndex(i=>i.id===a);this.progress_form.signed_up_programs.splice(e,1)}this.progress_form.signed_up_programs.sort((e,i)=>e.id-i.id)},deleteProgram(a){this.progress_form.signed_up_programs.splice(a,1)},isProgramCheckedEdit(a){return this.progress_form_edit.signed_up_programs.some(s=>s.id===a)},triggerProgramEdit(a){if(!this.progress_form_edit.signed_up_programs.some(e=>e.id===a))this.progress_form_edit.signed_up_programs.push({id:a,name:this.$page.props.programs.find(e=>e.id===a).name,student_numbers:""});else{const e=this.progress_form_edit.signed_up_programs.findIndex(i=>i.id===a);this.progress_form_edit.signed_up_programs.splice(e,1)}this.progress_form_edit.signed_up_programs.sort((e,i)=>e.id-i.id)},deleteProgramEdit(a){this.progress_form_edit.signed_up_programs.splice(a,1)},addProgress(){this.form.progress_status.push({...this.progress_form}),this.clearForm(),this.show_add_progress=!1},editProgress(){this.form.progress_status[this.edit_progress_index]=JSON.parse(JSON.stringify(this.progress_form_edit)),this.clearForm(),this.show_edit_progress=!1},clearForm(){this.progress_form.case_status="",this.progress_form.date="",this.progress_form.remark="",this.progress_form.signed_up_programs=[]},deleteProgressStatus(a){this.form.progress_status.splice(a,1)},handleQuotationFileUpload(a){const s=a.target.files[0];s&&s.type==="application/pdf"?this.form.quotation=s:(alert("Please select a PDF file."),a.target.value="")},handleContractFileUpload(a){const s=a.target.files[0];s&&s.type==="application/pdf"?this.form.contract=s:(alert("Please select a PDF file."),a.target.value="")},findUsernameEmail:M(function(a){a&&(this.searching_username_email=!0,axios.get(route("users.find_username_email"),{params:{keyword:a}}).then(s=>{this.user_list.options=s.data,this.searching_username_email=!1}))},1e3),submit(){this.$inertia.post(route("pipelines.store"),this.form)}}},Me=Object.assign(xe,{__name:"Create",setup(a){return(s,e)=>{const i=$("Label"),P=$("ComboBox"),x=$("Datepicker"),b=$("Input"),U=$("Textarea"),v=$("Button");return u(),w(D,null,{default:l(()=>[e[98]||(e[98]=t("h1",{class:"text-xl font-medium px-1"},"New Pipeline",-1)),s.$page.props.errors&&Object.keys(s.$page.props.errors).length>0?(u(),f("div",I,[t("div",O,[e[32]||(e[32]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"flex-shrink-0 size-4 mt-0.5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"m15 9-6 6"}),t("path",{d:"m9 9 6 6"})])],-1)),t("div",R,[e[31]||(e[31]=t("h3",{class:"text-sm font-semibold"}," Error ",-1)),t("div",z,[t("ul",Q,[(u(!0),f(V,null,C(s.$page.props.errors,(r,m)=>(u(),f("li",{key:m},g(r),1))),128))])])])])])):B("",!0),o(h,null,{title:l(()=>e[33]||(e[33]=[n("Basic Information")])),content:l(()=>[t("div",T,[t("div",null,[o(i,null,{default:l(()=>e[34]||(e[34]=[n(" Assign To ")])),_:1}),o(P,{items:s.user_list.options,"label-property":"display_name","value-property":"value",onSearch:s.findUsernameEmail,modelValue:s.form.assign_to,"onUpdate:modelValue":e[0]||(e[0]=r=>s.form.assign_to=r),"select-placeholder":"","search-placeholder":"Search sales person name...",loading:s.searching_username_email},{label:l(({item:r})=>[t("span",q,[n(g(r.display_name),1),e[35]||(e[35]=t("br",null,null,-1)),t("small",J,g(r.user_email?r.user_email:"Email not available"),1)])]),_:1},8,["items","onSearch","modelValue","loading"])]),t("div",null,[o(i,null,{default:l(()=>e[36]||(e[36]=[n(" Start Date ")])),_:1}),o(x,{mode:"date",modelValue:s.form.date_start,"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.date_start=r),format:"dd/MM/yyyy"},null,8,["modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[37]||(e[37]=[n(" Lead Source ")])),_:1}),o(P,{items:s.$page.props.lead_sources,"label-property":"name","value-property":"id",modelValue:s.form.lead_source,"onUpdate:modelValue":e[2]||(e[2]=r=>s.form.lead_source=r),"select-placeholder":"","search-placeholder":"Search lead source..."},null,8,["items","modelValue"])])])]),_:1}),o(h,null,{title:l(()=>e[38]||(e[38]=[n("School Information")])),content:l(()=>[t("div",L,[t("div",null,[o(i,{for:"school_name"},{default:l(()=>e[39]||(e[39]=[n(" Name ")])),_:1}),o(b,{type:"text",name:"school_name",id:"school_name",modelValue:s.form.school_name,"onUpdate:modelValue":e[3]||(e[3]=r=>s.form.school_name=r),autocomplete:"off"},null,8,["modelValue"])]),t("div",null,[o(i,{for:"school_type"},{default:l(()=>e[40]||(e[40]=[n(" Type ")])),_:1}),o(P,{id:"school_type",items:s.$page.props.school_types,"label-property":"name","value-property":"id",modelValue:s.form.school_type,"onUpdate:modelValue":e[4]||(e[4]=r=>s.form.school_type=r),"select-placeholder":"","search-placeholder":"Search school type..."},null,8,["items","modelValue"])]),t("div",null,[o(i,{for:"branch_number"},{default:l(()=>e[41]||(e[41]=[n(" Branch Number ")])),_:1}),o(b,{type:"number",min:"1",name:"branch_number",id:"branch_number",modelValue:s.form.branch_number,"onUpdate:modelValue":e[5]||(e[5]=r=>s.form.branch_number=r),autocomplete:"off"},null,8,["modelValue"])]),t("div",null,[o(i,{for:"school_address"},{default:l(()=>e[42]||(e[42]=[n(" Address ")])),_:1}),o(U,{id:"school_address",rows:"1",name:"address",class:"focus:ring-0 focus:border-gray-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300",modelValue:s.form.address,"onUpdate:modelValue":e[6]||(e[6]=r=>s.form.address=r),autocomplete:"off"},null,8,["modelValue"])])])]),_:1}),o(h,null,{title:l(()=>e[43]||(e[43]=[n("Principal Information")])),content:l(()=>[t("div",H,[t("div",null,[o(i,{for:"principal_name"},{default:l(()=>e[44]||(e[44]=[n(" Name ")])),_:1}),o(b,{type:"text",name:"principal_name",id:"principal_name",modelValue:s.form.principal_name,"onUpdate:modelValue":e[7]||(e[7]=r=>s.form.principal_name=r),autocomplete:"off"},null,8,["modelValue"])]),t("div",null,[o(i,{for:"principal_phone_number"},{default:l(()=>e[45]||(e[45]=[n(" Phone Number ")])),_:1}),o(b,{type:"text",name:"principal_phone_number",id:"principal_phone_number",modelValue:s.form.principal_phone_number,"onUpdate:modelValue":e[8]||(e[8]=r=>s.form.principal_phone_number=r),autocomplete:"off"},null,8,["modelValue"])])])]),_:1}),o(h,null,{title:l(()=>e[46]||(e[46]=[n("Person-in-Charge Information")])),content:l(()=>[t("div",G,[t("div",null,[o(i,{for:"pic_name"},{default:l(()=>e[47]||(e[47]=[n(" Name ")])),_:1}),o(b,{type:"text",name:"pic_name",id:"pic_name",modelValue:s.form.pic_name,"onUpdate:modelValue":e[9]||(e[9]=r=>s.form.pic_name=r),autocomplete:"off"},null,8,["modelValue"])]),t("div",null,[o(i,{for:"pic_phone_number"},{default:l(()=>e[48]||(e[48]=[n(" Phone Number ")])),_:1}),o(b,{type:"number",name:"pic_phone_number",id:"pic_phone_number",modelValue:s.form.pic_phone_number,"onUpdate:modelValue":e[10]||(e[10]=r=>s.form.pic_phone_number=r),autocomplete:"off"},null,8,["modelValue"])]),t("div",null,[o(i,{for:"pic_position"},{default:l(()=>e[49]||(e[49]=[n(" Position ")])),_:1}),o(P,{items:s.$page.props.pic_positions,"label-property":"name","value-property":"id",modelValue:s.form.pic_position,"onUpdate:modelValue":e[11]||(e[11]=r=>s.form.pic_position=r),"select-placeholder":"","search-placeholder":"Search person-in-charge..."},null,8,["items","modelValue"])]),t("div",null,[o(i,{for:"pic_email"},{default:l(()=>e[50]||(e[50]=[n(" Email ")])),_:1}),o(b,{type:"email",name:"pic_email",id:"pic_email",modelValue:s.form.pic_email,"onUpdate:modelValue":e[12]||(e[12]=r=>s.form.pic_email=r),autocomplete:"off"},null,8,["modelValue"])])])]),_:1}),o(h,null,{title:l(()=>[t("div",K,[e[52]||(e[52]=t("span",null,"Progress Status",-1)),o(v,{onClick:e[13]||(e[13]=r=>s.openAddProgress())},{default:l(()=>e[51]||(e[51]=[n("Add Progress")])),_:1})])]),content:l(()=>[t("div",W,[t("div",X,[o(d(S),null,{default:l(()=>[o(d(N),{class:"bg-gray-100"},{default:l(()=>[o(d(k),null,{default:l(()=>[o(d(y),{class:"px-6"},{default:l(()=>e[53]||(e[53]=[n("Date")])),_:1}),o(d(y),null,{default:l(()=>e[54]||(e[54]=[n("Case Status")])),_:1}),o(d(y),null,{default:l(()=>e[55]||(e[55]=[n("Remark")])),_:1}),o(d(y),null,{default:l(()=>e[56]||(e[56]=[n("Signed Up Program")])),_:1}),o(d(y),{class:"text-center"},{default:l(()=>e[57]||(e[57]=[n("Action")])),_:1})]),_:1})]),_:1}),o(d(F),null,{default:l(()=>[s.form.progress_status.length?(u(!0),f(V,{key:0},C(s.form.progress_status,(r,m)=>(u(),w(d(k),null,{default:l(()=>[o(d(_),{class:"px-6"},{default:l(()=>[n(g(d(j)(new Date(r.date),"dd/MM/yyyy")),1)]),_:2},1024),o(d(_),null,{default:l(()=>[n(g(r.case_status_name),1)]),_:2},1024),o(d(_),null,{default:l(()=>[n(g(r.remark),1)]),_:2},1024),o(d(_),{class:"max-w-xs"},{default:l(()=>[t("div",Y,[(u(!0),f(V,null,C(r.signed_up_programs,p=>(u(),w(d(c),{variant:"outline"},{default:l(()=>[t("span",null,[n(g(p.name)+" - ",1),t("span",Z,g(p.student_numbers)+" students",1)])]),_:2},1024))),256))])]),_:2},1024),o(d(_),{class:"text-center space-x-1"},{default:l(()=>[o(v,{variant:"outline",onClick:p=>s.editAddProgress(m)},{default:l(()=>e[58]||(e[58]=[n(" Edit ")])),_:2},1032,["onClick"]),o(v,{variant:"destructive",onClick:p=>s.deleteProgressStatus(m)},{default:l(()=>e[59]||(e[59]=[n(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)):(u(),w(d(k),{key:1},{default:l(()=>[o(d(_),{class:"text-center",colspan:"10"},{default:l(()=>e[60]||(e[60]=[t("div",{class:"p-3"}," No Record Found ",-1)])),_:1})]),_:1}))]),_:1})]),_:1})])])]),_:1}),o(h,null,{title:l(()=>e[61]||(e[61]=[n("Attachments")])),content:l(()=>[t("div",ee,[s.form.quotation?(u(),f("div",le,[o(i,{class:"mb-1 block text-sm font-semibold text-gray-700"},{default:l(()=>e[64]||(e[64]=[n(" Quotation ")])),_:1}),t("div",te,[t("div",re,[t("div",null,[t("p",ne,g(s.form.quotation.name),1)])]),t("div",de,[t("a",{class:"text-gray-500 hover:text-gray-800 cursor-pointer",onClick:e[15]||(e[15]=r=>s.form.quotation="")},e[65]||(e[65]=[t("svg",{class:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),t("line",{x1:"14",x2:"14",y1:"11",y2:"17"})],-1)]))])])])):(u(),f("div",se,[o(i,{class:"block text-sm font-semibold text-gray-700"},{default:l(()=>e[62]||(e[62]=[n(" Quotation ")])),_:1}),t("form",oe,[o(i,{for:"file-input",class:"sr-only"},{default:l(()=>e[63]||(e[63]=[n("Choose file")])),_:1}),t("input",{type:"file",name:"file-input",id:"file-input",class:"block w-full border border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-gray-300 focus:ring-0 disabled:opacity-50 disabled:pointer-events-none file:bg-gray-50 file:border-0 file:me-4 file:py-3 file:px-4",onChange:e[14]||(e[14]=(...r)=>s.handleQuotationFileUpload&&s.handleQuotationFileUpload(...r))},null,32)])])),s.form.contract?(u(),f("div",ue,[o(i,{class:"mb-1 block text-sm font-semibold text-gray-700"},{default:l(()=>e[68]||(e[68]=[n(" Contract ")])),_:1}),t("div",me,[t("div",pe,[t("div",null,[t("p",fe,g(s.form.contract.name),1)])]),t("div",ge,[t("a",{class:"text-gray-500 hover:text-gray-800 cursor-pointer",onClick:e[17]||(e[17]=r=>s.form.contract="")},e[69]||(e[69]=[t("svg",{class:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),t("line",{x1:"14",x2:"14",y1:"11",y2:"17"})],-1)]))])])])):(u(),f("div",ie,[o(i,{class:"block text-sm font-semibold text-gray-700"},{default:l(()=>e[66]||(e[66]=[n(" Contract ")])),_:1}),t("form",ae,[o(i,{for:"file-input",class:"sr-only"},{default:l(()=>e[67]||(e[67]=[n("Choose file")])),_:1}),t("input",{type:"file",name:"file-input",id:"file-input",class:"block w-full border border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-gray-300 focus:ring-0 disabled:opacity-50 disabled:pointer-events-none file:bg-gray-50 file:border-0 file:me-4 file:py-3 file:px-4",onChange:e[16]||(e[16]=(...r)=>s.handleContractFileUpload&&s.handleContractFileUpload(...r))},null,32)])]))])]),_:1}),o(h,null,{content:l(()=>[t("div",_e,[o(v,{variant:"outline",onClick:e[18]||(e[18]=r=>s.$inertia.get(s.route("pipelines")))},{default:l(()=>e[70]||(e[70]=[n(" Cancel ")])),_:1}),o(v,{onClick:s.submit},{default:l(()=>e[71]||(e[71]=[n(" Save ")])),_:1},8,["onClick"])])]),_:1}),o(E,{open:s.show_add_progress,"onUpdate:open":e[24]||(e[24]=r=>s.show_add_progress=r),classProp:"max-w-md"},{title:l(()=>e[72]||(e[72]=[n("Add Progress Status")])),content:l(()=>[t("div",ve,[t("div",null,[o(i,null,{default:l(()=>e[73]||(e[73]=[n(" Case Status ")])),_:1}),o(P,{items:s.$page.props.case_status,"label-property":"name","value-property":"id",modelValue:s.progress_form.case_status,"onUpdate:modelValue":e[19]||(e[19]=r=>s.progress_form.case_status=r),"select-placeholder":"","search-placeholder":"Search case status...",onSelect:e[20]||(e[20]=r=>{var m;return s.progress_form.case_status_name=(m=s.$page.props.case_status.find(p=>p.id==s.progress_form.case_status))==null?void 0:m.name})},null,8,["items","modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[74]||(e[74]=[n("Date")])),_:1}),e[75]||(e[75]=t("div",{class:"",id:"date"},null,-1)),o(x,{mode:"date",modelValue:s.progress_form.date,"onUpdate:modelValue":e[21]||(e[21]=r=>s.progress_form.date=r),format:"dd/MM/y",teleport:"#date",customPosition:()=>({left:50})},null,8,["modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[76]||(e[76]=[n(" Remark ")])),_:1}),o(U,{rows:"3",autocomplete:"off",modelValue:s.progress_form.remark,"onUpdate:modelValue":e[22]||(e[22]=r=>s.progress_form.remark=r)},null,8,["modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[77]||(e[77]=[n(" Signed Up Programs ")])),_:1}),t("ul",ye,[(u(!0),f(V,null,C(s.$page.props.programs,(r,m)=>(u(),f("li",be,[t("div",ke,[t("div",we,[o(A,{id:"program_"+r.id,type:"checkbox",checked:s.isProgramChecked(r.id),onClick:p=>s.triggerProgram(r.id)},null,8,["id","checked","onClick"]),o(i,{class:"cursor-pointer",for:"program_"+r.id},{default:l(()=>[n(g(r.name),1)]),_:2},1032,["for"])])])]))),256))])]),t("div",null,[o(d(S),null,{default:l(()=>[o(d(N),{class:"bg-gray-100"},{default:l(()=>[o(d(k),null,{default:l(()=>[o(d(y),{class:"px-6"},{default:l(()=>e[78]||(e[78]=[n("Program")])),_:1}),o(d(y),null,{default:l(()=>e[79]||(e[79]=[n("Student Numbers")])),_:1}),o(d(y),{class:"text-center"},{default:l(()=>e[80]||(e[80]=[n("Action")])),_:1})]),_:1})]),_:1}),o(d(F),null,{default:l(()=>[s.progress_form.signed_up_programs.length?(u(!0),f(V,{key:0},C(s.progress_form.signed_up_programs,(r,m)=>(u(),w(d(k),null,{default:l(()=>[o(d(_),null,{default:l(()=>[n(g(r.name),1)]),_:2},1024),o(d(_),null,{default:l(()=>[o(b,{modelValue:r.student_numbers,"onUpdate:modelValue":p=>r.student_numbers=p},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d(_),{class:"text-center space-x-1"},{default:l(()=>[o(v,{variant:"destructive",onClick:p=>s.deleteProgram(m)},{default:l(()=>e[81]||(e[81]=[n(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)):(u(),w(d(k),{key:1},{default:l(()=>[o(d(_),{class:"text-center",colspan:"10"},{default:l(()=>e[82]||(e[82]=[t("div",{class:"p-3"}," No Record Found ",-1)])),_:1})]),_:1}))]),_:1})]),_:1})])])]),footer:l(()=>[o(v,{variant:"outline",onClick:e[23]||(e[23]=r=>s.show_add_progress=!1)},{default:l(()=>e[83]||(e[83]=[n("Cancel")])),_:1}),o(v,{onClick:s.addProgress},{default:l(()=>e[84]||(e[84]=[n("Add")])),_:1},8,["onClick"])]),_:1},8,["open"]),o(E,{open:s.show_edit_progress,"onUpdate:open":e[30]||(e[30]=r=>s.show_edit_progress=r),classProp:"max-w-md"},{title:l(()=>e[85]||(e[85]=[n("Edit Progress Status")])),content:l(()=>[t("div",Ve,[t("div",null,[o(i,null,{default:l(()=>e[86]||(e[86]=[n(" Case Status ")])),_:1}),o(P,{items:s.$page.props.case_status,"label-property":"name","value-property":"id",modelValue:s.progress_form_edit.case_status,"onUpdate:modelValue":e[25]||(e[25]=r=>s.progress_form_edit.case_status=r),"select-placeholder":"","search-placeholder":"Search case status...",onSelect:e[26]||(e[26]=r=>{var m;return s.progress_form_edit.case_status_name=(m=s.$page.props.case_status.find(p=>p.id==s.progress_form_edit.case_status))==null?void 0:m.name})},null,8,["items","modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[87]||(e[87]=[n("Date")])),_:1}),e[88]||(e[88]=t("div",{class:"",id:"date"},null,-1)),o(x,{mode:"date",modelValue:s.progress_form_edit.date,"onUpdate:modelValue":e[27]||(e[27]=r=>s.progress_form_edit.date=r),format:"dd/MM/y",teleport:"#date",customPosition:()=>({left:50})},null,8,["modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[89]||(e[89]=[n(" Remark ")])),_:1}),o(U,{rows:"3",autocomplete:"off",modelValue:s.progress_form_edit.remark,"onUpdate:modelValue":e[28]||(e[28]=r=>s.progress_form_edit.remark=r)},null,8,["modelValue"])]),t("div",null,[o(i,null,{default:l(()=>e[90]||(e[90]=[n(" Signed Up Programs ")])),_:1}),t("ul",Ce,[(u(!0),f(V,null,C(s.$page.props.programs,(r,m)=>(u(),f("li",he,[t("div",Pe,[t("div",$e,[o(A,{id:"program_"+r.id,type:"checkbox",checked:s.isProgramCheckedEdit(r.id),onClick:p=>s.triggerProgramEdit(r.id)},null,8,["id","checked","onClick"]),o(i,{class:"cursor-pointer",for:"program_"+r.id},{default:l(()=>[n(g(r.name),1)]),_:2},1032,["for"])])])]))),256))])]),t("div",null,[o(d(S),null,{default:l(()=>[o(d(N),{class:"bg-gray-100"},{default:l(()=>[o(d(k),null,{default:l(()=>[o(d(y),{class:"px-6"},{default:l(()=>e[91]||(e[91]=[n("Program")])),_:1}),o(d(y),null,{default:l(()=>e[92]||(e[92]=[n("Student Numbers")])),_:1}),o(d(y),{class:"text-center"},{default:l(()=>e[93]||(e[93]=[n("Action")])),_:1})]),_:1})]),_:1}),o(d(F),null,{default:l(()=>[s.progress_form_edit.signed_up_programs.length?(u(!0),f(V,{key:0},C(s.progress_form_edit.signed_up_programs,(r,m)=>(u(),w(d(k),null,{default:l(()=>[o(d(_),null,{default:l(()=>[n(g(r.name),1)]),_:2},1024),o(d(_),null,{default:l(()=>[o(b,{modelValue:r.student_numbers,"onUpdate:modelValue":p=>r.student_numbers=p},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d(_),{class:"text-center space-x-1"},{default:l(()=>[o(v,{variant:"destructive",onClick:p=>s.deleteProgramEdit(m)},{default:l(()=>e[94]||(e[94]=[n(" Delete ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)):(u(),w(d(k),{key:1},{default:l(()=>[o(d(_),{class:"text-center",colspan:"10"},{default:l(()=>e[95]||(e[95]=[t("div",{class:"p-3"}," No Record Found ",-1)])),_:1})]),_:1}))]),_:1})]),_:1})])])]),footer:l(()=>[o(v,{variant:"outline",onClick:e[29]||(e[29]=r=>s.show_edit_progress=!1)},{default:l(()=>e[96]||(e[96]=[n("Cancel")])),_:1}),o(v,{onClick:s.editProgress},{default:l(()=>e[97]||(e[97]=[n("Add")])),_:1},8,["onClick"])]),_:1},8,["open"])]),_:1})}}});export{Me as default};
